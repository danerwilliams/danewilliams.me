<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    
    <script type="application/ld+json">

{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "Building an AI chatbot",
    "image": "https://www.danewilliams.me",
    "datePublished": "2020-05-17T00:52:09-07:00",
    "dateModified": "2020-05-17T00:52:09-07:00",
    "author": {
    "@type": "Person",
    "name": "Dane Williams"
    },
    "mainEntityOfPage": { "@type": "WebPage" },
    "publisher": {
    "@type": "Organization",
    "name": "Dane Williams",
    "logo": {
        "@type": "ImageObject",
        "url":  null 
    }
    },
    "description": "Introduction In the Notre Dame CSE slack we have a bot named bobbit which performs many commands providing a lot of entertainment and functionality. I decided that it could be fun to build my own bot for use in my water polo team groupme so that we could easily get information about tournament schedules, pool time openings, etc. This led me down a rabbit hole of python bots where I eventually discovered ChatterBot, a machine learning conversational dialog engine for chatbots.",
    "keywords": []
}

{
    "@context": "https://schema.org",
    "@type": "Person",
    "name": "Dane Williams",
    "url": "https://www.danewilliams.me",
    "sameAs": [
    "https://linkedin.com/in/danerwilliams",
    "https://gitlab.com/dwilli36",
    "https://github.com/danerwilliams",
    "https://instagram.com/wane_dilliams"
    ]
}
</script>

    
    <meta name="author" content="Dane Williams">
    <meta name="description" content="Dane Williams Notre Dame Computer Science">
    <meta name="keywords" content="dane williams, notre, dame, notre dame, water polo, cs, seattle, bay area, bellevue, sammamish, symetra, at&amp;t">

    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Building an AI chatbot"/>
<meta name="twitter:description" content="Introduction In the Notre Dame CSE slack we have a bot named bobbit which performs many commands providing a lot of entertainment and functionality. I decided that it could be fun to build my own bot for use in my water polo team groupme so that we could easily get information about tournament schedules, pool time openings, etc. This led me down a rabbit hole of python bots where I eventually discovered ChatterBot, a machine learning conversational dialog engine for chatbots."/>

    <meta property="og:title" content="Building an AI chatbot" />
<meta property="og:description" content="Introduction In the Notre Dame CSE slack we have a bot named bobbit which performs many commands providing a lot of entertainment and functionality. I decided that it could be fun to build my own bot for use in my water polo team groupme so that we could easily get information about tournament schedules, pool time openings, etc. This led me down a rabbit hole of python bots where I eventually discovered ChatterBot, a machine learning conversational dialog engine for chatbots." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.danewilliams.me/posts/building-an-ai-chat-bot/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-05-17T00:52:09-07:00" />
<meta property="article:modified_time" content="2020-05-17T00:52:09-07:00" />



    
      <base href="https://www.danewilliams.me/posts/building-an-ai-chat-bot/">
    
    <title>
  Building an AI chatbot · Dane Williams
</title>

    
      <link rel="canonical" href="https://www.danewilliams.me/posts/building-an-ai-chat-bot/">
    

    <link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin="anonymous" />

    
      
      
      <link rel="stylesheet" href="https://www.danewilliams.me/css/coder.min.a4f332213a21ce8eb521670c614470c58923aaaf385e2a73982c31dd7642decb.css" integrity="sha256-pPMyITohzo61IWcMYURwxYkjqq84XipzmCwx3XZC3ss=" crossorigin="anonymous" media="screen" />
    

    

    
      
        
        
        <link rel="stylesheet" href="https://www.danewilliams.me/css/coder-dark.min.83a2010dac9f59f943b3004cd6c4f230507ad036da635d3621401d42ec4e2835.css" integrity="sha256-g6IBDayfWflDswBM1sTyMFB60DbaY102IUAdQuxOKDU=" crossorigin="anonymous" media="screen" />
      
    

    

    

    

    <link rel="icon" type="image/png" href="https://www.danewilliams.me/images/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="https://www.danewilliams.me/images/favicon-16x16.png" sizes="16x16">

    <meta name="generator" content="Hugo 0.89.4" />
  </head>

  
  
    
  
  <body class="colorscheme-dark">
    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="https://www.danewilliams.me/">
      Dane Williams
    </a>
    
    <input type="checkbox" id="menu-toggle" />
    <label class="menu-button float-right" for="menu-toggle"><i class="fas fa-bars"></i></label>
    <ul class="navigation-list">
      
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://www.danewilliams.me/about/">About</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://www.danewilliams.me/posts/">Blog</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://www.danewilliams.me/projects/">Projects</a>
          </li>
        
      
      
    </ul>
    
  </section>
</nav>


      <div class="content">
        
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">Building an AI chatbot</h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fas fa-calendar"></i>
              <time datetime='2020-05-17T00:52:09-07:00'>
                May 17, 2020
              </time>
            </span>
            <span class="reading-time">
              <i class="fas fa-clock"></i>
              3-minute read
            </span>
          </div>
          
          
        </div>
      </header>

      <div>
        
        <h2 id="introduction">Introduction</h2>
<p>In the Notre Dame CSE slack we have a bot named <a href="https://github.com/pbui/bobbit">bobbit</a> which performs many commands providing a lot of entertainment and functionality.
I decided that it could be fun to build my own bot for use in my water polo team groupme so that we could easily get information about tournament schedules, pool time openings, etc.
This led me down a rabbit hole of python bots where I eventually discovered <a href="https://github.com/gunthercox/ChatterBot">ChatterBot</a>, a machine learning conversational dialog engine for chatbots.
Curious how a bot trained on my friends and I&rsquo;s group chat conversations would behave and speak, my original chatbot project morphed in to a conversational bot trained on only the text conversations of 20 year old college students.
The result is <a href="https://github.com/danerwilliams/pork-chop">Pork Chop</a>, an AI chatbot that is highly entertaining when trained right.
For obvious privacy reasons the neural network created by ChatterBot is not on github and neither is the training data, but all the code my friends and I wrote for training and deploying the bot is on github and is designed to be modular so that someone can easily train Pork Chop to their own conversation data.</p>
<h2 id="gathering-data">Gathering Data</h2>
<p>While I deployed Pork Chop in a groupme conversation, we trained him from 70,000 texts from the 2020 spring semester an imessage group chat.
Getting this data is simpler than you&rsquo;d think.
Simply navigate to /Users/yourUsernameHere/Library/Messages/chat.db where there is a sql database file containing all of the imessages currently on your mac.
From here we isolated the message data from the specific conversation we wanted to pull data from and exported the messages to a single column in a csv.
We found that preprocessing the data was very useful for training Pork Chop especially because with a group chat people&rsquo;s thoughts are pretty scattered which can make things difficult for the ChatterBot algorithm to work with effectively.
The biggest thing for us was eliminating the reacts i.e. &lsquo;laughed at &ldquo;a previous message&rdquo;&rsquo;, which we simply filtered out by using grep and some regex.</p>
<h2 id="using-chatterbot">Using ChatterBot</h2>
<p>Chatterbot make training and using your chat bot super simple.
All we had to do was write a function to turn our csv data in to a list, and then use ChatterBot&rsquo;s list trainer method which will train based on the data and export the neural network in a .sqlite3 file.
From here all you really need to do is pass a message through the ChatterBot get response function and it will return a string which is Pork Chop&rsquo;s best guess on how to reply based on the training it did!</p>
<h2 id="deployment">Deployment</h2>
<p>For deployment on an AWS server I used flask to handle the post requests sent by GroupMe every time a message is sent in groupme. The <a href="https://dev.groupme.com/tutorials/bots">groupme docs</a> give pretty clear instructions on how this works. Next I want to work on migrating it from a VM to serverless functions using <a href="https://aws.amazon.com/lambda/">AWS Lambda</a>.</p>

      </div>


      <footer>
        


        
        
        
      </footer>
    </article>

    
  </section>

      </div>

      <footer class="footer">
  <section class="container">
    
    
      
        © 2020 - 2021
      
       Dane Williams 
    
    
    
  </section>
</footer>

    </main>

    

    

  </body>

</html>
